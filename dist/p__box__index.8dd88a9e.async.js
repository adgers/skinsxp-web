"use strict";(self.webpackChunkmucsgo=self.webpackChunkmucsgo||[]).push([[59],{84089:function(xe,$,t){t.d($,{Z:function(){return _}});var V=t(87462),v=t(97685),B=t(4942),d=t(45987),w=t(67294),x=t(94184),Y=t.n(x),K=t(51461),C=t(63017),u=t(1413),g=t(41755),b=["icon","className","onClick","style","primaryColor","secondaryColor"],e={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function ge(l){var m=l.primaryColor,i=l.secondaryColor;e.primaryColor=m,e.secondaryColor=i||(0,g.pw)(m),e.calculated=!!i}function N(){return(0,u.Z)({},e)}var T=function(m){var i=m.icon,p=m.className,h=m.onClick,F=m.style,j=m.primaryColor,M=m.secondaryColor,y=(0,d.Z)(m,b),S=w.useRef(),L=e;if(j&&(L={primaryColor:j,secondaryColor:M||(0,g.pw)(j)}),(0,g.C3)(S),(0,g.Kp)((0,g.r)(i),"icon should be icon definiton, but got ".concat(i)),!(0,g.r)(i))return null;var r=i;return r&&typeof r.icon=="function"&&(r=(0,u.Z)((0,u.Z)({},r),{},{icon:r.icon(L.primaryColor,L.secondaryColor)})),(0,g.R_)(r.icon,"svg-".concat(r.name),(0,u.Z)((0,u.Z)({className:p,onClick:h,style:F,"data-icon":r.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},y),{},{ref:S}))};T.displayName="IconReact",T.getTwoToneColors=N,T.setTwoToneColors=ge;var R=T;function E(l){var m=(0,g.H9)(l),i=(0,v.Z)(m,2),p=i[0],h=i[1];return R.setTwoToneColors({primaryColor:p,secondaryColor:h})}function I(){var l=R.getTwoToneColors();return l.calculated?[l.primaryColor,l.secondaryColor]:l.primaryColor}var J=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];E(K.iN.primary);var D=w.forwardRef(function(l,m){var i,p=l.className,h=l.icon,F=l.spin,j=l.rotate,M=l.tabIndex,y=l.onClick,S=l.twoToneColor,L=(0,d.Z)(l,J),r=w.useContext(C.Z),z=r.prefixCls,s=z===void 0?"anticon":z,P=r.rootClassName,X=Y()(P,s,(i={},(0,B.Z)(i,"".concat(s,"-").concat(h.name),!!h.name),(0,B.Z)(i,"".concat(s,"-spin"),!!F||h.name==="loading"),i),p),k=M;k===void 0&&y&&(k=-1);var q=j?{msTransform:"rotate(".concat(j,"deg)"),transform:"rotate(".concat(j,"deg)")}:void 0,ee=(0,g.H9)(S),Z=(0,v.Z)(ee,2),ae=Z[0],ne=Z[1];return w.createElement("span",(0,V.Z)({role:"img","aria-label":h.name},L,{ref:m,tabIndex:k,onClick:y,className:X}),w.createElement(R,{icon:h,primaryColor:ae,secondaryColor:ne,style:q}))});D.displayName="AntdIcon",D.getTwoToneColor=I,D.setTwoToneColor=E;var _=D},6171:function(xe,$,t){t.d($,{Z:function(){return Y}});var V=t(87462),v=t(67294),B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},d=B,w=t(84089),x=function(C,u){return v.createElement(w.Z,(0,V.Z)({},C,{ref:u,icon:d}))},Y=v.forwardRef(x)},50888:function(xe,$,t){t.d($,{Z:function(){return Y}});var V=t(87462),v=t(67294),B={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},d=B,w=t(84089),x=function(C,u){return v.createElement(w.Z,(0,V.Z)({},C,{ref:u,icon:d}))},Y=v.forwardRef(x)},34793:function(xe,$,t){t.d($,{Z:function(){return e}});var V=t(97857),v=t.n(V),B=t(19632),d=t.n(B),w=t(5574),x=t.n(w),Y=t(19515),K=t(15168),C=t(52830),u=t(67294),g=t(85893),b=function(N){var T=N.giftList,R=N.lotteryWin,E=N.onCompleted,I=N.vertical,J=I===void 0?!1:I,D=N.randomPosition,_=D===void 0?!0:D,l=N.boxSize,m=N.wrapHeight,i=m===void 0?200:m,p=N.start,h=N.fast,F=h===void 0?!1:h,j=N.voice,M=j===void 0?!0:j,y=N.lotteryIndex,S=y===void 0?0:y,L=40,r=30,z=F?100*r:250*r,s=(0,u.useState)([]),P=x()(s,2),X=P[0],k=P[1],q=(0,u.useRef)(0),ee=(0,u.useRef)(null),Z=(0,C.q_)(function(){return{from:J?{y:0}:{x:0}}}),ae=x()(Z,2),ne=ae[0],re=ae[1],Ne=(0,C.q_)(function(){return{from:{scale:1}}}),se=x()(Ne,2),be=se[0],le=se[1],Q=(0,C.q_)(function(){return{from:{rotate:0}}}),he=x()(Q,2),Se=he[0],ie=he[1],ce=(0,C.q_)(function(){return{from:{opacity:1}}}),de=x()(ce,2),pe=de[0],ue=de[1],ye=function(){re.start({from:J?{y:0}:{x:0}}),le.start({from:{scale:1}}),ie.start({from:{rotate:0}}),ue.start({from:{opacity:1}})},ve=function(){ie.start({from:{rotate:0},to:{rotate:360},config:{duration:500}}),ue.start({from:{opacity:1},to:{opacity:.3},config:{duration:500}}),le.start({from:{scale:1},to:{scale:1.3},config:{duration:500},onResolve:function(){E(S)}})},we=function(){var c=d()(T);if(c.length<L)for(var f=0;f<L;f++){var A=Math.floor(Math.random()*T.length);c.push(T[A])}c.sort(function(){return Math.random()-.5}),c.splice(r,0,R),k(c)},Ce=function(){var c=l.height,f;_?f=Math.random()*(c-30)+30:f=c/2;var A=r*c-i/2+f;re.start({from:{y:0},to:{y:-A},config:{duration:z,easing:C.Z5.easeOutQuint},onChange:function(fe){var te=fe.value.y,me=te-q.current,oe=Math.abs(me);oe>c&&(q.current=te,M&&(0,K.p)())},onResolve:function(){ve()}})},U=function(){var c,f=l.width,A;_?A=Math.random()*(f-30)+30:A=f/2;var G=((c=ee.current)===null||c===void 0?void 0:c.offsetWidth)||0,fe=r*f-G/2+A;re.start({from:{x:0},to:{x:-fe},config:{duration:z,easing:C.Z5.easeOutQuint},onChange:function(me){var oe=me.value.x,a=oe-q.current,n=Math.abs(a);n>f&&(q.current=oe,M&&(0,K.p)())},onResolve:function(){ve()}})};return(0,u.useEffect)(function(){!T&&!R||(ye(),we())},[T,R]),(0,u.useEffect)(function(){p&&(0,Y._v)(500*S).then(function(){J?Ce():U()})},[p]),(0,g.jsx)("div",{className:"w-full overflow-hidden relative",style:{height:i},ref:ee,children:(0,g.jsx)(C.q.div,{style:v()({},ne),className:"flex items-center w-full h-full ".concat(J?"flex-col":"flex-row"),children:X.map(function(O,c){var f,A=O.id===R.id,G=(f=O.grade)!==null&&f!==void 0?f:O.giftGrade;return(0,g.jsxs)("div",{className:"lottery-card",style:{width:l.width,height:l.height},children:[(0,g.jsx)(C.q.img,{style:v()({},A?be:pe),src:O.giftImage,className:"sm:w-full sm:h-full z-10 will-change-transform"}),(0,g.jsx)(C.q.div,{style:v()({},A?Se:pe),className:"lottery-card-bg lottery-card-".concat(G)})]},c)})})})},e=b},75457:function(xe,$,t){t.r($),t.d($,{default:function(){return m}});var V=t(5574),v=t.n(V),B=t(15009),d=t.n(B),w=t(99289),x=t.n(w),Y=t(6171),K=t(50888),C=t(7889),u=t(68927),g=t(34793),b=t(67294),e=t(85893),ge=function(p){var h=p.count,F=p.onChange,j=p.value,M=p.disabled,y=Array.from({length:h},function(s,P){return P+1}),S=(0,b.useState)(1),L=v()(S,2),r=L[0],z=L[1];return(0,b.useEffect)(function(){z(j||1)},[j]),(0,e.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:y.map(function(s,P){var X=r===s;return(0,e.jsx)("div",{className:"w-16 h-8 sm:h-12 font-num inline-flex justify-center items-center rounded text-base cursor-pointer border ".concat(X?"text-secondary border-secondary":"border-accent border-opacity-20"),onClick:function(){M||(z(s),F(s))},children:s},P)})})},N=ge,T=t(9567),R=t(97627),E=t(19515),I=t(7363),J=t(17909),D=t(17857),_=t(11983),l=t(45308);function m(){var i,p,h,F=(0,I.useModel)("user"),j=F.getUser,M=(0,b.useRef)(null),y=(i=(0,I.useParams)())===null||i===void 0?void 0:i.id,S=(0,J.F)(),L=(0,I.useRequest)(x()(d()().mark(function a(){return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,R.G1)({boxId:Number(y)});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},a)})),{refreshDeps:[y]}),r=L.data,z=(0,I.useRequest)(x()(d()().mark(function a(){return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,R.xN)({boxId:Number(y)});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},a)})),{refreshDeps:[y]}),s=z.data,P=(0,I.useRequest)(x()(d()().mark(function a(){return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,R.qM)({boxId:Number(y),limit:12});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},a)})),{refreshDeps:[y]}),X=P.data,k=P.refresh,q=(0,b.useState)(1),ee=v()(q,2),Z=ee[0],ae=ee[1],ne=(0,b.useState)(!1),re=v()(ne,2),Ne=re[0],se=re[1],be=(0,b.useState)(),le=v()(be,2),Q=le[0],he=le[1],Se=(0,b.useState)(!1),ie=v()(Se,2),ce=ie[0],de=ie[1],pe=(0,b.useState)(!1),ue=v()(pe,2),ye=ue[0],ve=ue[1],we=(0,b.useState)(!1),Ce=v()(we,2),U=Ce[0],O=Ce[1],c=(0,I.useModel)("sys"),f=c.voice,A=c.toggleVoice,G=c.fast,fe=c.toggleFast,te=function(){var a=x()(d()().mark(function n(o){return d()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:o===Z-1&&((0,E._v)(300),se(!0),ve(!1));case 1:case"end":return je.stop()}},n)}));return function(o){return a.apply(this,arguments)}}(),me=function(){var a=x()(d()().mark(function n(){return d()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:se(!1),j(),O(!1),k();case 4:case"end":return H.stop()}},n)}));return function(){return a.apply(this,arguments)}}(),oe=function(){var a=x()(d()().mark(function n(){var o,H;return d()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!(ce||U)){W.next=2;break}return W.abrupt("return");case 2:return de(!0),W.next=5,(0,R.GV)({boxId:Number(y),number:Z});case 5:if(H=W.sent,de(!1),H.status===0){W.next=9;break}return W.abrupt("return");case 9:return j(),he(H==null||(o=H.data)===null||o===void 0?void 0:o.results),O(!0),W.next=14,(0,E._v)(500);case 14:ve(!0);case 15:case"end":return W.stop()}},n)}));return function(){return a.apply(this,arguments)}}();return(0,b.useEffect)(function(){if(U){var a;(a=M.current)===null||a===void 0||a.pause()}else{var n;(n=M.current)===null||n===void 0||n.play()}},[location.search,U]),(0,e.jsxs)("div",{className:"max-w-[1400px] w-full m-auto mt-4 px-3",children:[(0,e.jsxs)("div",{className:"flex grid-cols-3 items-center sm:grid h-[38px] sm:h-[76px] box-open-title px-4",children:[(0,e.jsxs)("button",{className:"btn btn-sm btn-neutral w-20 !px-0",onClick:E.hu,type:"button",children:[(0,e.jsx)(Y.Z,{}),(0,e.jsx)(I.FormattedMessage,{id:"common_back"})]}),(0,e.jsx)("h2",{className:"mx-auto px-6 text-center text-base md:text-xl font-semibold uppercase",children:r==null?void 0:r.boxName}),(0,e.jsxs)("div",{className:"flex justify-center space-x-1 sm:justify-end sm:space-x-2",children:[(0,e.jsx)(_.HY,{onElement:(0,e.jsx)(u.B,{type:"icon-shengyin"}),offElement:(0,e.jsx)(u.B,{type:"icon-shengyinguanbi"}),onClick:A,active:f,className:"border border-accent p-1 rounded ".concat(!f&&"border-opacity-20")}),(0,e.jsx)(_.HY,{onElement:(0,e.jsx)(u.B,{type:"icon-lighting"}),offElement:(0,e.jsx)(u.B,{type:"icon-lighting"}),active:G,onClick:fe,className:"border border-accent p-1 rounded ".concat(!G&&"border-opacity-20")})]})]}),(0,e.jsxs)("div",{className:"bg-neutral h-[152px] md:h-[304px] mt-4 rounded openbox-bg",children:[U&&Z>1&&(0,e.jsx)("div",{className:"w-full h-full relative z-10",children:(0,e.jsxs)("div",{className:"grid grid-cols-".concat(Z," gap-2 md:gap-3 w-full"),children:[(0,e.jsx)("div",{className:"arrow-left"}),(0,e.jsx)("div",{className:"arrow-right"}),Array.from({length:Z}).map(function(a,n){return(0,e.jsx)(g.Z,{giftList:(s==null?void 0:s.boxGiftVo)||[],lotteryWin:(Q==null?void 0:Q[n])||{},randomPosition:!1,vertical:!0,onCompleted:te,boxSize:S.md?{width:128,height:112}:{width:64,height:56},start:ye,wrapHeight:S.md?304:152,fast:G,voice:f,lotteryIndex:n},n)})]})}),U&&Z===1&&(0,e.jsxs)("div",{className:"w-full relative h-full z-10",children:[(0,e.jsx)("div",{className:"arrow-top"}),(0,e.jsx)("div",{className:"arrow-bottom"}),(0,e.jsx)(g.Z,{giftList:(s==null?void 0:s.boxGiftVo)||[],lotteryWin:(Q==null?void 0:Q[0])||{},onCompleted:te,randomPosition:!1,boxSize:S.md?{width:200,height:175}:{width:100,height:88},start:ye,wrapHeight:S.md?304:152,lotteryIndex:0,fast:G,voice:f})]}),!U&&(0,e.jsxs)("div",{className:"w-full h-full flex items-center justify-center relative",children:[(0,e.jsx)("img",{src:r==null?void 0:r.boxImage,className:"h-[152px] md:h-[304px]"}),(0,e.jsx)("video",{loop:!0,className:"h-[152px] md:h-[304px] absolute",muted:!0,src:r==null?void 0:r.secondVideo,ref:M,controls:!1,playsInline:!0,"webkit-playsinline":"true","x5-playsinline":"true"})]})]}),(0,e.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row gap-4 justify-center",children:[(0,e.jsx)(N,{count:5,onChange:function(n){ae(n)},disabled:ce||U,value:Z}),(0,e.jsxs)("button",{type:"button",onClick:oe,className:"flex items-center justify-center h-8 sm:h-12 px-4 uppercase border border-secondary text-secondary rounded font-num font-semibold bg-secondary bg-opacity-20",children:[(0,e.jsx)("div",{className:"open-btn-arr animate-pulse"}),(0,e.jsxs)("div",{className:"flex gap-2 px-1 flex-1 justify-center",children:[ce&&(0,e.jsx)(K.Z,{}),(0,e.jsx)(u.B,{type:"icon-coin"}),(0,e.jsx)(D.ZP,{end:(0,E.Y6)(((r==null?void 0:r.openPrice)||0)*Z),duration:.3,decimals:2,separator:"",className:"font-num"}),"open"]}),(0,e.jsx)("div",{className:"open-btn-arr-right animate-pulse"})]})]}),(0,e.jsx)("div",{className:"box-title mt-10",children:(0,e.jsx)("span",{className:"text-center text-base sm:text-2xl uppercase font-semibold",children:"last DROP"})}),(0,e.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 mt-4",children:X==null?void 0:X.map(function(a,n){return(0,e.jsxs)("div",{className:"card-flip",children:[(0,e.jsx)("div",{className:"front",children:(0,e.jsx)(T.Z,{data:a},n)}),(0,e.jsx)("div",{className:"back",children:(0,e.jsxs)("div",{className:"flex flex-col gap-3 items-center justify-center w-full h-full bg-neutral bg-opacity-70 cursor-pointer rounded-md",children:[(0,e.jsxs)("div",{className:"avatar w-10 h-10 relative rounded",children:[(0,e.jsx)("img",{src:a==null?void 0:a.headPic}),(0,e.jsx)("img",{src:a==null?void 0:a.headGround,className:"absolute left-0 top-0 w-full h-full"})]}),(0,e.jsx)("div",{className:"text-sm",children:a==null?void 0:a.nickname})]})})]},n)})}),(0,e.jsx)("div",{className:"box-title mt-10",children:(0,e.jsx)("span",{className:"text-center text-base sm:text-2xl uppercase font-semibold",children:"CASE CONTENT"})}),(0,e.jsxs)("div",{children:[(s==null?void 0:s.gradeGiftProb)&&(0,e.jsxs)("div",{className:"flex items-center justify-center gap-2 flex-wrap my-4 font-num",children:[(0,e.jsx)("span",{className:"text-sm uppercase font-semibold",children:(0,e.jsx)(I.FormattedMessage,{id:"drop_probability"})}),s==null||(p=s.gradeGiftProb)===null||p===void 0?void 0:p.map(function(a,n){var o=(0,E.jx)(a.grade||0);return(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("div",{className:"w-6 h-2 rounded-full",style:{backgroundColor:o}}),(0,e.jsxs)("div",{className:"text-white text-sm text-[".concat(o,"]"),children:[(a==null?void 0:a.prob)&&(0,E.Y6)((a==null?void 0:a.prob)*100),"%"]})]},n)})]}),(0,e.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:s==null||(h=s.boxGiftVo)===null||h===void 0?void 0:h.map(function(a,n){return(0,e.jsx)(T.Z,{data:a},n)})})]}),(0,e.jsx)(l.Z,{show:Ne,results:Q||[],onClose:me})]})}}}]);
