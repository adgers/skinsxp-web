"use strict";(self.webpackChunkmucsgo=self.webpackChunkmucsgo||[]).push([[550],{68927:function(H,m,a){a.d(m,{B:function(){return o}});var f=a(36683),o=(0,f.Z)({scriptUrl:["//at.alicdn.com/t/c/font_4204248_ne0cw2rytxj.js"]})},23420:function(H,m,a){a.r(m),a.d(m,{default:function(){return S}});var f=a(15009),o=a.n(f),Z=a(99289),C=a.n(Z),L=a(5574),g=a.n(L),h=a(68927),U=a(20971),w=a(19500),u=a(19515),D=a(77123),d=a(7363),T=a(70451),O=a(36158),p=a(67294),B=a(17857),n=a(11983),I=a(22920),e=a(85893);function S(){var j,A=(0,d.useModel)("user"),s=A.userInfo,E=A.getUser,V=(0,T.Z)(!1),F=g()(V,2),Y=F[0],N=F[1].toggle,$=(0,T.Z)(!1),M=g()($,2),y=M[0],b=M[1].toggle,G=(0,d.useLocation)(),W=(0,p.useState)(),R=g()(W,2),k=R[0],J=R[1],v=(0,p.useRef)(null),z=(s==null?void 0:s.experiencePercentage)&&(0,u.Y6)((s==null?void 0:s.experiencePercentage)*100,2),K=function(){var i=C()(o()().mark(function r(){var t,x,l;return o()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(x=v==null||(t=v.current)===null||t===void 0?void 0:t.value,x){c.next=3;break}return c.abrupt("return");case 3:return c.next=5,(0,w.iY)({nickname:x});case 5:l=c.sent,l.status===0&&(N(),I.Am.success("\u4FEE\u6539\u6210\u529F"),E());case 7:case"end":return c.stop()}},r)}));return function(){return i.apply(this,arguments)}}(),Q=(0,O.Z)(function(){return y?(0,U.aH)():Promise.resolve({data:[]})},{refreshDeps:[y]}),P=Q.data,X=function(){var i=C()(o()().mark(function r(){var t;return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(k){l.next=2;break}return l.abrupt("return");case 2:return l.next=4,(0,w.N8)({headPic:k});case 4:t=l.sent,t.status===0&&(I.Am.success("\u4FEE\u6539\u6210\u529F"),E(),b());case 6:case"end":return l.stop()}},r)}));return function(){return i.apply(this,arguments)}}(),q=(0,p.useMemo)(function(){return[{title:"\u9970\u54C1\u80CC\u5305",link:"/user/bag",icon:"icon-beibao1"},{title:"\u8BB0\u5F55\u4E2D\u5FC3",link:"/user/record",icon:"icon-jilu"},{title:"\u4F1A\u5458\u7B49\u7EA7",link:"/user/vip",icon:"icon-vip"},{title:"\u63A8\u5E7F\u4E2D\u5FC3",link:"/user/promote",icon:"icon-tuiguang"},{title:"\u516C\u5E73\u9A8C\u8BC1",link:"/user/provably-fair",icon:"icon-shield"},{title:"\u5E2E\u52A9\u4E2D\u5FC3",link:"/user/docs",icon:"icon-help"},{title:"\u4E2A\u4EBA\u8BBE\u7F6E",link:"/user/info",icon:"icon-bianji1"}]},[]);return(0,e.jsxs)("div",{className:"max-w-[1400px] m-auto px-3 mt-5",children:[!(0,u.PJ)()&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"p-3 sm:p-6 user-info bg-neutral user-info-bg",children:(0,e.jsxs)("div",{className:"flex gap-3 sm:gap-4 items-center",children:[(0,e.jsxs)("div",{className:"w-16 h-16 md:w-[120px] md:h-[120px] overflow-hidden group relative rounded",children:[(0,e.jsx)("img",{src:s==null?void 0:s.headPic,className:"w-full h-full"}),(0,e.jsx)("img",{src:s==null?void 0:s.headGround,className:"absolute left-0 top-0 w-full h-full"}),(0,e.jsx)("span",{className:"absolute w-full left-0 bottom-0 text-center text-white opacity-60 py-2 text-sm bg-black bg-opacity-80 cursor-pointer hidden group-hover:block",onClick:function(){b()},children:"\u4FEE\u6539\u5934\u50CF"}),(0,e.jsxs)(n.u_,{open:y,className:"max-w-md",children:[(0,e.jsx)(n.u_.Header,{className:"uppercase font-semibold leading-tight",children:"Edit head picture"}),(0,e.jsx)(n.zx,{size:"xs",shape:"circle",color:"ghost",className:"absolute right-2 top-2",onClick:b,children:"\u2715"}),(0,e.jsx)(n.u_.Body,{className:"grid grid-cols-4 md:grid-cols-5 gap-2",children:P==null||(j=P.data)===null||j===void 0?void 0:j.map(function(i,r){return(0,e.jsx)("img",{src:(0,u.JW)()+i,className:"w-16 h-16 overflow-hidden group relative rounded-sm cursor-pointer ".concat(i===k&&"ring-1 ring-primary"),onClick:function(){return J(i)}},r)})}),(0,e.jsx)(n.u_.Actions,{className:"flex mt-4",children:(0,e.jsx)(n.zx,{className:"btn-primary w-full rounded",onClick:X,children:(0,e.jsx)(d.FormattedMessage,{id:"confirm"})})})]})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-1 md:gap-2 flex-1 justify-center",children:[(0,e.jsxs)("div",{className:"text-white text-base md:text-2xl flex items-center gap-2",children:[(0,e.jsx)("span",{children:s==null?void 0:s.nickname}),(0,e.jsx)(D.Z,{className:"text-sm",onClick:N}),(0,e.jsxs)(n.u_,{open:Y,className:"max-w-md",children:[(0,e.jsx)(n.u_.Header,{className:"uppercase font-semibold leading-tight",children:"Edit nickname"}),(0,e.jsx)(n.zx,{size:"xs",shape:"circle",color:"ghost",className:"absolute right-2 top-2",onClick:N,children:"\u2715"}),(0,e.jsx)(n.u_.Body,{className:"flex flex-col gap-4",children:(0,e.jsx)(n.II,{placeholder:"Enter new nickname",ref:v,defaultValue:s==null?void 0:s.nickname})}),(0,e.jsx)(n.u_.Actions,{className:"flex flex-col mt-4",children:(0,e.jsx)(n.zx,{className:"btn-primary w-full rounded",onClick:K,children:(0,e.jsx)(d.FormattedMessage,{id:"confirm"})})})]}),(0,e.jsxs)("div",{className:"vip-level",children:[(0,e.jsx)("div",{className:"vip-level-icon"}),(0,e.jsx)("div",{className:"vip-level-num",children:s==null?void 0:s.grade})]})]}),(0,e.jsx)("div",{className:"text-white text-xs md:text-sm flex items-center flex-wrap gap-2",children:(0,e.jsxs)("div",{className:"flex flex-1 gap-2 items-center",children:[(0,e.jsx)("progress",{className:"progress progress-secondary-l ring-1 ring-secondary bg-base-100 w-32",value:z,max:"100"}),(0,e.jsxs)("span",{children:[z,"%"]})]})}),(0,e.jsxs)("div",{className:"flex gap-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm sm:text-base",children:[(0,e.jsx)(h.B,{type:"icon-coin"}),(0,e.jsx)(B.ZP,{end:(0,u.Y6)((s==null?void 0:s.balance)||0),duration:1,decimals:2,separator:"",className:"font-num"})]}),(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm sm:text-base",children:[(0,e.jsx)(h.B,{type:"icon-daimond"}),(0,e.jsx)(B.ZP,{end:(0,u.Y6)((s==null?void 0:s.secondaryBalance)||0),duration:1,decimals:2,separator:"",className:"font-num"})]})]}),(0,e.jsxs)("div",{className:"flex uppercase",children:["SteamID: ",(s==null?void 0:s.steamId)||"\u672A\u7ED1\u5B9A"]})]})]})}),(0,e.jsx)("div",{className:"custom-tab w-full flex gap-8 overflow-y-hidden overflow-x-auto md:justify-evenly border-b border-[#45444B] my-2 md:my-4 hide-scrollbar",children:q.map(function(i,r){var t=G.pathname.startsWith(i.link);return(0,e.jsx)("div",{className:"tab-item flex-shrink-0 ".concat(t?"tab-active":""),children:(0,e.jsxs)(d.Link,{to:i.link,className:"tab-item-c text-sm md:text-base flex gap-1 hover:text-primary",children:[(0,e.jsx)(h.B,{type:i.icon}),i.title]})},r)})})]}),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(d.Outlet,{})})]})}}}]);
